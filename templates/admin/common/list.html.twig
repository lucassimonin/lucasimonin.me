{% extends "admin/layout.html.twig" %}

{% set menuActive = 'users' %}
{% block title %}{{ ('admin.' ~ type ~ '.list.title')|trans({}, 'app') }}{% endblock %}
{% block mainTitle %}
<h1>{{ ('admin.' ~ type ~ '.list.title')|trans({}, 'app') }}</h1>
{% endblock %}


{% block options %}
    <a class="btn btn-success btn-xs" href="{{ path('admin_' ~ type ~ '_create') }}">
        <i class="fa fa-plus "></i> {{ 'admin.common.new.button'|trans({}, 'app') }}
    </a>
    <a class="btn btn-info btn-xs btn-search-open" href="#">
        <i class="fa fa-search "></i> {{ 'admin.common.search.button'|trans({}, 'app') }}
    </a>
{% endblock %}

{% block content %}
    <div class="row">
        <div class="col-md-12 m-b-2 col-sm-12 search-zone"  {% if app.request.query.get('search') is empty %}style="display: none;"{% endif %}>
            <div class="row">
                <div class="col-md-12 col-sm-12">
                    <div class="panel panel-inverse">
                        <div class="panel-body">
                            {% include "admin/common/parts/search.html.twig" %}
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-12 col-sm-12">
            <div class="table-app">
                <table class="table no-margin-botton table-bordered table-hover table-striped">
                    <thead>
                    <tr>
                        <th class="cansort {% if pagination.isSorted('u.name') %}sorted{% endif %}">{{ knp_pagination_sortable(pagination, 'admin.common.form.name'|trans({}, 'app'), 'u.name') }} {% if pagination.isSorted('u.name') %} <i class="fa fa-sort-{{ pagination.getDirection() }} pull-right"></i>{% endif %}</th>
                        <th>{{ 'admin.common.actions'|trans({}, 'app') }}</th>
                    </tr>
                    </thead>
                    <tbody>

                    {% for content in pagination %}
                        <tr>

                            <td style="vertical-align:middle;"><a href="{{ path('admin_' ~ type ~ '_edit', {'id': content.id}) }}">{{ content.name }}</a></td>

                            <td style="text-align:center;vertical-align:middle;">
                                <a href="{{ path('admin_' ~ type ~ '_edit', {'id': content.id}) }}" class="btn btn-default">
                                    <i class="fa fa-edit"></i> {{ 'admin.common.update.button'|trans({}, 'app') }}
                                </a>
                                <a href="{{ path('admin_' ~ type ~ '_delete', {'id': content.id}) }}" class="btn btn-danger delete-button">
                                    <i class="fa fa-trash-o" style="color:white;transition: all 30s linear;"></i> {{ 'admin.common.delete.button'|trans({}, 'app') }}
                                </a>
                            </td>
                        </tr>
                    {% endfor %}
                    </tbody>
                </table>
                <div class="table-footer">
                    {% if pagination|length <= 0 %}
                        {{ 'admin.common.no_data.title'|trans({}, 'app') }}
                    {% endif %}

                    <div class="navigation">
                        {{ knp_pagination_render(pagination, 'admin/parts/sliding.html.twig') }}
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}
